<!DOCTYPE html>
<html lang="en">
  <head>
    <title>BS Detect</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Marcellus+SC" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src=“https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.1.4/Chart.min.js“></script>
    <script type="text/javascript" src="/scoring.js"></script>
    <style media="screen">
      body {
        font: 400 15px;
        line-height: 1.8;
        color: #818181;
        font-family: 'Marcellus SC', serif;
      }
      .ui-widget-content {
        background: blue;
        border: 1px solid #DDDDDD;
        color: red;
       }
      #resizable { 
        width: 250px; 
        height: 500px; 
        padding: 0.5em;
        text-align: center; 
        margin: 0; 
      }

      h2 {
        font-size: 24px;
        text-transform: uppercase;
        color: #4f5f66;
        font-weight: 600;
        margin-bottom: 30px;
        font-family: 'Marcellus SC', serif;
      }
      h4 {
        font-size: 19px;
        line-height: 1.375em;
        color: #4f5f66;
        font-weight: 400;
        margin-bottom: 30px;
        font-family: 'Marcellus SC', serif;
      }
      p {
        font-family: 'Marcellus SC', serif;
      }
      .jumbotron {
        background-color: #ee8d1d;
        color: #4f5f66;
        padding: 100px 25px;
        font-family: 'Marcellus SC', serif;
      }
      .container-fluid {
        padding: 60px 50px;
      }
      .bg-grey {
        background-color: #f6f6f6;
      }
      .logo-small {
        color: #ee8d1d;
        font-size: 50px;
      }
      .logo {
        color: #ee8d1d;
        font-size: 200px;
      }
      .thumbnail {
        padding: 0 0 15px 0;
        border: none;
        border-radius: 0;
      }
      .thumbnail img {
        width: 100%;
        height: 100%;
        margin-bottom: 10px;
      }
      .carousel-control.right, .carousel-control.left {
        background-image: none;
        color: #ee8d1d;
      }
      .carousel-indicators li {
        border-color: #ee8d1d;
      }
      .carousel-indicators li.active {
        background-color: #ee8d1d;
      }
      .item h4 {
        font-size: 19px;
        line-height: 1.375em;
        font-weight: 400;
        font-style: italic;
        margin: 70px 0;
      }
      .item span {
        font-style: normal;
      }
      .panel {
        border: 1px solid #ee8d1d;
        border-radius:0 !important;
        transition: box-shadow 0.5s;
      }
      .panel:hover {
        box-shadow: 5px 0px 40px rgba(0,0,0, .2);
      }
      .panel-footer .btn:hover {
        border: 1px solid #ee8d1d;
        background-color: #fff !important;
        color: #ee8d1d;
      }
      .panel-heading {
        color: #fff !important;
        background-color: #ee8d1d !important;
        padding: 25px;
        border-bottom: 1px solid transparent;
        border-top-left-radius: 0px;
        border-top-right-radius: 0px;
        border-bottom-left-radius: 0px;
        border-bottom-right-radius: 0px;
      }
      .panel-footer {
        background-color: white !important;
      }
      .panel-footer h3 {
        font-size: 32px;
      }
      .panel-footer h4 {
        color: #aaa;
        font-size: 14px;
      }
      .panel-footer .btn {
        margin: 15px 0;
        background-color: #ee8d1d;
        color: #fff;
      }
      .navbar {
        margin-bottom: 0;
        background-color: #ee8d1d;
        z-index: 9999;
        border: 0;
        font-size: 12px !important;
        line-height: 1.42857143 !important;
        letter-spacing: 4px;
        border-radius: 0;
        font-family: 'Marcellus SC', serif;
      }
      .navbar li a, .navbar .navbar-brand {
        color: #4f5f66 !important;
      }
      .navbar-nav li a:hover, .navbar-nav li.active a {
        color: #ee8d1d !important;
        background-color: #4f5f66 !important;
      }
      .navbar-default .navbar-toggle {
        border-color: transparent;
        color: #4f5f66 !important;
      }
      footer .glyphicon {
        font-size: 20px;
        margin-bottom: 20px;
        color: #ee8d1d;
      }
      .slideanim {
        visibility:hidden;
      }
      .slide {
        animation-name: slide;
        -webkit-animation-name: slide;
        animation-duration: 1s;
        -webkit-animation-duration: 1s;
        visibility: visible;
      }
      @keyframes slide {
        0% {
          opacity: 0;
          transform: translateY(70%);
        }
        100% {
          opacity: 1;
          transform: translateY(0%);
        }
      }
      @-webkit-keyframes slide {
        0% {
          opacity: 0;
          -webkit-transform: translateY(70%);
        }
        100% {
          opacity: 1;
          -webkit-transform: translateY(0%);
        }
      }
      @media screen and (max-width: 768px) {
        .col-sm-4 {
          text-align: center;
          margin: 25px 0;
        }
        .btn-lg {
          width: 100%;
          margin-bottom: 35px;
        }
      }
      @media screen and (max-width: 480px) {
        .logo {
          font-size: 150px;
        }
      }
      .login{
        width: 500px;
      }
      #myChart {
        border-style: solid;
        border-width: 5px;
      }
    </style>
  </head>

  <body data-spy="scroll" data-target=".navbar" data-offset="60">
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
        </div>
        <div class="collapse navbar-collapse" id="myNavbar">
          <ul class="nav navbar-nav navbar-right">
            <li><a  href="#about">ABOUT</a></li>
            <li><a href="#contact">CONTACT</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="jumbotron text-center">
      <h1>BS DETECT</h1>
      <h2>Deciphering through all the BS on Facebook and Twitter</h2>
    </div>

    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-8">
          <div class="">
            <div>
        <fb:login-button scope="public_profile,email,user_friends,user_likes" onlogin="work();">
    </fb:login-button>
              <!-- <div class="fb-login-button" data-width="30" data-max-rows="1" data-size="large" data-button-type="continue_with" data-show-faces="true" data-auto-logout-link="true" data-use-continue-as="true">                
              </div> -->
            </div>                             
          <div id="status"></div>
            <h1>TESTTTTTTTT #2</h1>
              <canvas id="myChart" style= "width: 600px; height: 400px">
          </div>  
        </div>
        <div class="col-sm-4">
          <div id="form">
            <form name="myForm" action="/twitterOutput" method="post"><br>
              <button type="submit" class="btn btn-primary" id="submit">Twitter Search</button>
                <input type="text" name="userInput" placeholder="Search a Hashtag!">
            </form>
          </div>
          <div class="col-sm-4 ui-widget-content" id="resizable">
            <a class="twitter-timeline"  href="https://twitter.com/search?q=%20trends%20%23fakenews%20" data-widget-id="933372302288408578">Tweets about trends #fakenews </a>
            <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
            </script>
          </div>       
        </div>
      </div>
  <!-- Container (About Section) -->
      <div class="row">
        <div id="about">
          <div class="col-sm-8">
            <h2>About Company Page</h2>
            <br>
            <h4>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</h4>
            <br>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
          </div>
        </div>
  <!-- Container (Contact Section) -->
        <div class="col-sm-4">
          <div id="contact" class="container-fluid bg-grey">
            <h2 class="text-center">CONTACT</h2>
            <div class="row">
              <div class="col-sm-5">
                <p>Contact us and we'll get back to you within 24 hours.</p>
                <p><span class="glyphicon glyphicon-map-marker"></span> Arlington,VA</p>
                <p><span class="glyphicon glyphicon-phone"></span>123-456-7896</p>
                <p><span class="glyphicon glyphicon-envelope"></span> myemail@something.com</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  <br><br><br>
  <div id="googleMap" style="height:300px;width:100%"></div>
  
  <script>
    $(document).ready(function(){
    // Add smooth scrolling to all links in navbar + footer link
    $(".navbar a, footer a[href='#myPage']").on('click', function(event) {
      // Make sure this.hash has a value before overriding default behavior
      if (this.hash !== "") {
        // Prevent default anchor click behavior
        event.preventDefault();

        // Store hash
        var hash = this.hash;

        // Using jQuery's animate() method to add smooth page scroll
        // The optional number (900) specifies the number of milliseconds it takes to scroll to the specified area
        $('html, body').animate({
          scrollTop: $(hash).offset().top
        }, 900, function(){

          // Add hash (#) to URL when done scrolling (default click behavior)
          window.location.hash = hash;
        });
      } // End if
    });

    $(window).scroll(function() {
      $(".slideanim").each(function(){
        var pos = $(this).offset().top;

        var winTop = $(window).scrollTop();
          if (pos < winTop + 600) {
            $(this).addClass("slide");
          }
      });
    });
    })

    var token;
    // This is called with the results from from FB.getLoginStatus().
    function statusChangeCallback(response) {
      console.log('statusChangeCallback');
      console.log(response);
      // The response object is returned with a status field that lets the
      // app know the current login status of the person.
      // Full docs on the response object can be found in the documentation
      // for FB.getLoginStatus().
      if (response.status === 'connected') {
        // Logged into your app and Facebook.
        testAPI();
      } else {
            // The person is not logged into your app or we are unable to tell.
        document.getElementById('status').innerHTML = 'Please log ' +
            'into this app.';
      }
    }
    // This function is called when someone finishes with the Login
    // Button.  See the onlogin handler attached to it in the sample
    // code below.
    function checkLoginState() {
      FB.getLoginStatus(function(response) {
          statusChangeCallback(response);
      });
    }

    window.fbAsyncInit = function() {
      FB.init({
          appId: '2001573413463545',
          cookie: true, // enable cookies to allow the server to access
          // the session
          xfbml: true, // parse social plugins on this page
          version: 'v2.8' // use graph api version 2.8
      });

      // Now that we've initialized the JavaScript SDK, we call
      // FB.getLoginStatus().  This function gets the state of the
      // person visiting this page and can return one of three states to
      // the callback you provide.  They can be:
      //
      // 1. Logged into your app ('connected')
      // 2. Logged into Facebook, but not your app ('not_authorized')
      // 3. Not logged into Facebook and can't tell if they are logged into
      //    your app or not.
      //
      // These three cases are handled in the callback function.

      // FB.getLoginStatus(function(response) {
      //   statusChangeCallback(response);
      // });
      FB.getLoginStatus(function(response) {
        if (response.status === 'connected') {
          statusChangeCallback(response);
          console.log(response.authResponse.accessToken);
        }
      });
    };

                        // Load the SDK asynchronously
    (function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s);
      js.id = id;
      js.src = "https://connect.facebook.net/en_US/sdk.js";
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));

    // Here we run a very simple test of the Graph API after login is
    // successful.  See statusChangeCallback() for when this call is made.
    function testAPI() {
      console.log('Welcome!  Fetching your information.... ');
      FB.api('/me', function(response) {
          console.log('Successful login for: ' + response.name);
          document.getElementById('status').innerHTML =
              'Thanks for logging in, ' + response.name + '!';
      });
    }
    ////////////TEST TEST TEST ////////////
    function work() {
      FB.login(function(response) {
        if (response.status === 'connected') {
            console.log(response.authResponse.accessToken);
            token = response.authResponse.accessToken;
            var queryURL = "https://graph.facebook.com/me/friends?fields=name,id,likes.limit(100).fields(id,name)&limit=100&access_token=" + token;
            console.log(queryURL);
            $.ajax({
                url: queryURL,
                method: "GET"
            }).done(function(response) {

                    for (var i = 1; i < response.data.length; i++) {
                        console.log(response.data[i].likes);
                        if (response.data[i].likes) {
                            for (var j = 0; j < response.data[i].likes.data.length; j++) {
                                console.log(response.data[i].likes.data[j]);
                            }
                        } else {
                            console.log("not");

                        }
                    }

                })

            };

      }, { scope: 'public_profile,email,user_friends,user_likes' })
    };
          // jQueryUI
    $(function() {
      $( "#resizable" ).resizable();
    });

    </script>
    <footer class="container-fluid text-center">
      <a href="" title="To Top"><span class="glyphicon glyphicon-chevron-up"></span></a>
    </footer>
  </body>
</html>